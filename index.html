<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Stream - Partido en directo</title>
  <style>
    body {
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: #0f1720;
      color: #e6eef6;
      margin: 0;
      padding: 24px;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      min-height: 100vh;
    }

    .container {
      width: 100%;
      max-width: 980px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius: 14px;
      padding: 20px;
      box-shadow: 0 8px 30px rgba(2,6,23,0.6);
    }

    h1 {
      margin: 0 0 12px 0;
      font-size: 20px;
      color: #fff;
    }

    .notice {
      background: #0b1220;
      border: 1px solid rgba(255,255,255,0.04);
      padding: 10px 12px;
      border-radius: 10px;
      margin-bottom: 14px;
      font-size: 13px;
      color: #cbd5e1;
    }

    .controls {
      display:flex;
      gap:8px;
      margin-bottom: 16px;
    }

    button {
      appearance: none;
      border: none;
      background: #0ea5a5;
      color: #032024;
      padding: 10px 14px;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 6px 18px rgba(14,165,165,0.14);
    }

    button.ghost {
      background: transparent;
      color: #cbd5e1;
      border: 1px solid rgba(255,255,255,0.04);
    }

    #streamContainer {
      display: none; /* oculto por defecto */
      max-width: 900px;
      margin: 20px auto 0 auto;
      text-align: center;
      background: #000;
      border-radius: 12px;
      padding: 15px;
    }

    iframe {
      width: 100%;
      max-width: 900px;
      height: 520px;
      border: 0;
      border-radius: 10px;
      background: #000;
    }

    .meta {
      margin-top: 10px;
      font-size: 13px;
      color: #9aa7b8;
    }

    .warning {
      color: #ffb86b;
      font-weight: 600;
    }

    @media (max-width: 780px) {
      iframe { height: 360px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Stream — Ver partido</h1>

    <div class="notice">
      <strong>Aviso:</strong> Comprueba siempre la legalidad y la seguridad del enlace antes de reproducir. Algunos sitios de streaming no autorizados pueden contener malware o violar derechos de autor. Usa esta página sólo para contenidos que tengas derecho a mostrar o con permiso del propietario.
    </div>

    <div class="controls">
      <!-- Botones -->
      <button id="showBtn">Mostrar stream</button>
      <button id="hideBtn" class="ghost">Ocultar stream</button>
      <button id="openNewTab" class="ghost">Abrir en pestaña nueva</button>
    </div>

    <!-- Contenedor del iframe (oculto hasta que se pulse mostrar) -->
    <div id="streamContainer" aria-hidden="true">
      <iframe id="playerFrame"
        src=""
        allowfullscreen
        sandbox="allow-forms allow-same-origin allow-scripts allow-popups allow-modals"
        title="Stream del partido"
      ></iframe>

      <div class="meta">
        Si el reproductor no carga puede deberse a que el servidor impide ser embebido (X-Frame-Options / CSP) o a problemas del sitio.
        <div style="margin-top:6px;">Estado: <span id="status">oculto</span></div>
      </div>
    </div>

    <p style="margin-top:14px; font-size:13px; color:#9aa7b8;">
      Nota técnica: este ejemplo añade el `src` al `iframe` sólo cuando el usuario pulsa "Mostrar stream" (esto evita que el navegador intente cargar automáticamente recursos externos al abrir la página).
    </p>
  </div>

  <script>
    // --- URL proporcionada por el usuario ---
    // He colocado aquí el enlace que pediste. Si prefieres puedes cambiarlo.
    const streamUrl = "https://jack85d6.buglfactsg0zgcbattle.shop/es/football/spanish-la-liga-4209850/fc-barcelona-vs-athletic-club.html?icg=RVM";

    const showBtn = document.getElementById("showBtn");
    const hideBtn = document.getElementById("hideBtn");
    const openNewTab = document.getElementById("openNewTab");
    const streamContainer = document.getElementById("streamContainer");
    const playerFrame = document.getElementById("playerFrame");
    const status = document.getElementById("status");

    showBtn.addEventListener("click", () => {
      // Asignamos el src al iframe sólo cuando el usuario lo solicita
      if (!playerFrame.src) {
        playerFrame.src = streamUrl;
      }
      streamContainer.style.display = "block";
      streamContainer.setAttribute("aria-hidden", "false");
      status.textContent = "intentando cargar...";
    });

    hideBtn.addEventListener("click", () => {
      // Para liberar recursos quitamos el src
      playerFrame.src = "";
      streamContainer.style.display = "none";
      streamContainer.setAttribute("aria-hidden", "true");
      status.textContent = "oculto";
    });

    openNewTab.addEventListener("click", () => {
      // Abrir en pestaña nueva — útil si el iframe no permite embeberse
      window.open(streamUrl, "_blank", "noopener");
    });

    // Intentamos detectar carga (no siempre fiable por restricciones CORS / iframe)
    playerFrame.addEventListener("load", () => {
      // Si se dispara 'load' es probable que el recurso se haya cargado en el iframe
      status.textContent = "cargado (si el sitio permite embeber)";
    });

    // Un simple timeout para avisar si tarda demasiado
    let loadCheckTimer;
    showBtn.addEventListener("click", () => {
      clearTimeout(loadCheckTimer);
      loadCheckTimer = setTimeout(() => {
        if (streamContainer.style.display === "block" && status.textContent !== "cargado (si el sitio permite embeber)") {
          status.textContent = "probablemente bloqueado por el origen (X-Frame-Options / CSP) o problema de red";
        }
      }, 6000);
    });
  </script>
</body>
</html>
